
# 1 程序的结构

每个源文件中包含一个或多个类或者接口，但最多只能有一个是public类型的类。
源文件的文件名要和这个类的类名一致。

package语句：包语句，每个源文件中最多只能有一个，且放在文件最开始的地方。
import语句：导包语句，可以没有，也可以有很多个，放在所有类的定义之前。
public：每个源文件中只有一个类被修饰。
其他的普通类没有个数限制。
接口：每个文件中包含的接口定义的个数也没有限制。

## 1-1 包的概念(package)

包 是类的容器，用包来划分名字空间，以避免类名冲突。
package pk1 [.pk2[.pk3...]]

## 1-2 引入语句(import)

**package** com.sl;
public classMyClass;
使用方式：
com.sl.MyClass mc = new com.sl.MyClass();
为了书写简单：
**import** com.sl;
MyClass mc = new MyClass();

# 2 流程控制

java中的语句指示计算机完成某些操作，一条语句的操作完成后，会把控制转给另一条语句。
语句是java的最小执行单位，语句以英文`;`结束。
语句分为单语句和复合语句：
单语句就是通常意义下的一条语句
复合语句是一对大括号括起来的语句组，也称为‘块’(块后没有分号)。

## 2-1 赋值语句(=)

第二章节讲到`表达式`的概念：由运算符和操作数组成，对操作数进行运算符指定的操作，并得出运算结果。
java中的一个计算式可以称为一个表达式(参见第二章)，比如：

```java
//表达式的概念复习
2+3 //结果是int
true & false //结果是boolean
3<5 //结果是boolean
3>2?"yes":"no" //三目运算符
str.toUpperCase() //函数调用
```

a = 1，这是一个语句(赋值)，目的是把1赋值给变量a，执行这条语句后，a的值就变为1，而不管它原来是什么值。

if(a == 1) { //…}，这里的a==1则是一个表达式(逻辑运算符==，结果是boolean)，它本身并不会产生任何动作，而只是把变量a的值和1进行比较，然后把比较结果交给if语句去处理。语句是可以单独执行的、能够产生实际效果的代码；而表达式有时是包含在语句中的，根据某种条件计算出一个值或得出某种结果，然后由语句去判断和处理。
在java程序中，表达式可以当作一个值赋给某个变量，这样的语句就是赋值语句。
语句和表达式有相同的地方，也有不同的地方，表达式都会得到一个值，也就是计算结果，语句也有一个值，但这个值不是计算结果，而是执行的结果：

```java
con = new Con(); //赋值语句
x = 12; //是赋值语句
boolean b = 2<3; //表达式的值赋给boolean类型的变量b，赋值语句

x++; //不是赋值语句，是表达式
2<3; //不是语句，是表达式
//+=(扩展运算符)
```

方法的调用通常会返回一个值，一般用在表达式中，但是有的方法调用可以直接当成语句：
```java
System.out.pringln("hello");
```

块语句就是由{}包括的多条语句，如果没有语句就是`空块`（允许但是没有意义）。

## 2-2 分支语句(if、switch)

分支语句有2种，if语句和switch语句。

### 1) if语句

```java
if(条件表达式-结果必须是逻辑值){
	//语句
}[else{
	//语句
}]
```

### 2) switch语句

```java
switch(表达式-结果必须是int、char或String){
	case c1:
		//语句
		break;
	case c2:
		//语句
		break;
	[default:
		//语句
		break;
	]
} 
```

## 2-3 循环语句(for、while、do)

### 1) for语句

```java
for(初始语句；条件表达式；迭代语句)
	循环语句;
```

初始语句和迭代语句可包含多个语句，各个语句用逗号隔开。
for循环的三个部分都是可选的，当条件表达式为空时，默认规定为恒真。
for语句的语义：
先执行**初始语句**，然后判断**条件表达式**的值，当表达式的值是真时，  执行**循环语句**，最后执行**迭代语句**。

for语句中，初始语句的值会自动修改，也可以在循环语句中改变这个变量的值：

```java
for (int i = 0; i < 5; i++) {
    i++;
    System.out.println("hello >> "+i);
}
/*
hello >> 1
hello >> 3
hello >> 5
*/
```

### 2) while语句

```java
while(条件表达式)
	循环语句;
```

while语句和if语句一样，while的条件表达式的结果也必须是boolean类型。
while语句的语义是： 执行条件表达式，如果结果为真，则执行循环语句，否则结束循环。
for语句的控制变量通常是隐式修改的，while语句的变量需要现式修改，否则会无限循环下去。

```java
int i = 0;
while(i<3){
    System.out.println("hello >> "+ i);
    i++;
}
/*
hello >> 0
hello >> 1
hello >> 2
*/
```

### 3) do语句

do语句和while语句很相似，但是do语句把while语句的条件表达式移到了循环语句之后。
```java
do
	循环语句;
while(条件表达式);
```

do语句的语义是： 先执行一次循环语句，然后判定 条件表达式，如果结果为真则继续执行循环语句，否则结束循环。
```java
int i = 0;
do{
    System.out.println("hello >>" + i);
    i++;
} while (i<3);
/*
hello >>0
hello >>1
hello >>2
*/

int i = 0;
do{
    System.out.println("hello >>" + i);
    i++;
} while (i==5);
//这样的do语句写法如果直接用while语句是一次都不会执行的。
//do语句可以保证就算条件表达式不成立(为假)也至少执行一次循环语句。
```

## 2-4 跳转语句

java舍弃了goto语句(在c语言中很常用)，代之的是两条特殊语句：break语句和continue语句。

### 1) 标号
标号可以放在任意语句之前，通常与for、while和do语句配合使用，语法是： 标号:语句;

```java
for (int x = 1; x <= 5; x++) {
    for (int y = 1; y <= 5; y++) {
        if(x==3 && y==1) break;
        System.out.print("x= " + x + " y= " + y + " ｜");
    }
    System.out.print(" \n");
}
/*
当执行到第三行时，结束内层循环，继续执行外层的循环。
x= 1 y= 1 ｜x= 1 y= 2 ｜x= 1 y= 3 ｜x= 1 y= 4 ｜x= 1 y= 5 ｜ 
x= 2 y= 1 ｜x= 2 y= 2 ｜x= 2 y= 3 ｜x= 2 y= 4 ｜x= 2 y= 5 ｜ 
 
x= 4 y= 1 ｜x= 4 y= 2 ｜x= 4 y= 3 ｜x= 4 y= 4 ｜x= 4 y= 5 ｜ 
x= 5 y= 1 ｜x= 5 y= 2 ｜x= 5 y= 3 ｜x= 5 y= 4 ｜x= 5 y= 5 ｜
*/

mark:
for (int x = 1; x <= 5; x++) {
    for (int y = 1; y <= 5; y++) {
        if(x==3 && y==1) break mark;
        System.out.print("x= " + x + " y= " + y + " ｜");
    }
    System.out.print(" \n");
}
/*
当执行到第三行时，结束内层循环，跳转到mark标记位置，这里是跳出了所有循环。
x= 1 y= 1 ｜x= 1 y= 2 ｜x= 1 y= 3 ｜x= 1 y= 4 ｜x= 1 y= 5 ｜ 
x= 2 y= 1 ｜x= 2 y= 2 ｜x= 2 y= 3 ｜x= 2 y= 4 ｜x= 2 y= 5 ｜
*/

for (int x = 1; x <= 5; x++) {
    for (int y = 1; y <= 5; y++) {
        if(x==3 && y==1) continue;
        System.out.print("x= " + x + " y= " + y + " ｜");
    }
    System.out.print(" \n");
}
/*
当执行的第三行时，continue仅跳过本次(一次)循环(最内层y循环x=3 y=1的一次循环)
x= 1 y= 1 ｜x= 1 y= 2 ｜x= 1 y= 3 ｜x= 1 y= 4 ｜x= 1 y= 5 ｜ 
x= 2 y= 1 ｜x= 2 y= 2 ｜x= 2 y= 3 ｜x= 2 y= 4 ｜x= 2 y= 5 ｜ 
x= 3 y= 2 ｜x= 3 y= 3 ｜x= 3 y= 4 ｜x= 3 y= 5 ｜ 
x= 4 y= 1 ｜x= 4 y= 2 ｜x= 4 y= 3 ｜x= 4 y= 4 ｜x= 4 y= 5 ｜ 
x= 5 y= 1 ｜x= 5 y= 2 ｜x= 5 y= 3 ｜x= 5 y= 4 ｜x= 5 y= 5 ｜
*/

mark:
for (int x = 1; x <= 5; x++) {
    for (int y = 1; y <= 5; y++) {
        if(x==3 && y==1) continue mark;
        System.out.print("x= " + x + " y= " + y + " ｜");
    }
    System.out.print(" \n");
}
/*
当执行到第三行时，直接跳到mark位置，后面的换行代码也就不执行了，这是和直接使用break的区别。
x= 1 y= 1 ｜x= 1 y= 2 ｜x= 1 y= 3 ｜x= 1 y= 4 ｜x= 1 y= 5 ｜ 
x= 2 y= 1 ｜x= 2 y= 2 ｜x= 2 y= 3 ｜x= 2 y= 4 ｜x= 2 y= 5 ｜ 
x= 4 y= 1 ｜x= 4 y= 2 ｜x= 4 y= 3 ｜x= 4 y= 4 ｜x= 4 y= 5 ｜ 
x= 5 y= 1 ｜x= 5 y= 2 ｜x= 5 y= 3 ｜x= 5 y= 4 ｜x= 5 y= 5 ｜
*/

```

### 2) break
强行退出最近的循环，不执行当前循环中的剩余语句。

### 3) continue
跳过循环中尚未执行的语句，进行下一次循环(判定)。

### 4) return
结束当前方法的执行，严格来说不应该使用在循环体中，但是可能存在这样的需求。


# 3 简单的输入/输出

## 3-1 Scanner类

读取一行字符：
```java
public static void main(String[] args) {
    InputStream in = System.in;
    Scanner scanner = new Scanner(in);
    System.out.println("请输入任意字符： ");
    String message = scanner.nextLine();
    System.out.println("您输入的字符是 ：\'" + message +"\'");
}
/*
请输入任意字符： 
点点滴滴
您输入的字符是 ：'点点滴滴'
*/
```

读取多行数值：
```java
public static void main(String[] args) {
    InputStream in = System.in;
    Scanner scanner = new Scanner(in);
    System.out.println("请您的年龄： ");
    int age = scanner.nextInt();
    System.out.println("请您的工资： ");
    double gz = scanner.nextDouble();

    System.out.println("您的年龄是 ：\'" + age +"\'，您的工资是 ：\'" + gz +"\'");
}
/*
请您的年龄： 
21
请您的工资： 
10000.1
您的年龄是 ：'21'，您的工资是 ：'10000.1'
*/
```

## 3-2 NumberFormat和DecimalFormat

NumberFormat：
```java
public static void main(String[] args) {
    Double d = 12345.123455665757;

    String dFormat1 = NumberFormat.getInstance().format(d);
    System.out.println(dFormat1);

    String dFormat2 = NumberFormat.getCurrencyInstance().format(d);
    System.out.println(dFormat2);

    String dFormat3 = NumberFormat.getNumberInstance().format(d);
    System.out.println(dFormat3);

    String dFormat4 = NumberFormat.getPercentInstance().format(d);
    System.out.println(dFormat4);

    NumberFormat numberFormat = NumberFormat.getInstance();
    numberFormat.setMaximumIntegerDigits(3);
    numberFormat.setMaximumFractionDigits(2);
    String dFormat5 = numberFormat.format(d);
    System.out.println(dFormat5);

}

/*
12,345.123
￥12,345.12
12,345.123
1,234,512%
345.12
*/
```

DecimalFormat:
```java
public static void main(String[] args) {
    double d  = 123.1245666566;
    System.out.println("----0----");
    System.out.println(new DecimalFormat("0").format(d));
    System.out.println(new DecimalFormat("00000").format(d));
    System.out.println(new DecimalFormat("0.00").format(d));
    System.out.println(new DecimalFormat("00000.00000").format(d));
    System.out.println("----#----");
    System.out.println(new DecimalFormat("#").format(d));
    System.out.println(new DecimalFormat("#.###").format(d));
    System.out.println(new DecimalFormat("#.#%").format(d));
    System.out.println(new DecimalFormat("#####.#%").format(d));
    System.out.println(new DecimalFormat("#.######E0").format(d));
    System.out.println(new DecimalFormat("#####.######E0").format(d));
}
/*
----0----
123
00123
123.12
00123.12457
----#----
123
123.125
12312.5%
12312.5%
1.231246E2
123.12456666E0
*/
```

# 4 处理异常(后续深入)

java语言把程序运行中可能遇到的错误分为2类：异常(非致命性的、通过修正程序还能继续执行)和错误(难以恢复执行)。
异常举例：文件不存在、0作为除数、数组越界等
错误举例：程序将内存耗尽的情况

## 4-1 异常及异常处理机制

数组初始下标是0，想打印最后一个元素则元素下标为length-1，否则会抛出数组越界异常：
```java
public static void main(String[] args) {
    String[] strArr = {
        "hello ",
        "world!",
        "Hello World~"
    };
    System.out.println(strArr[strArr.length]);
}
/*
Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 3
	at xxx.xxx.main(Demo1.java:7)
*/
```

重复递归调用方法最终会导致 栈的深度超过了虚拟机分配给线程的栈大小：
```java
public static void main(String[] args) {
    f1();
}
public static void f1(){
    f1();
}
/*
Exception in thread "main" java.lang.StackOverflowError
	at com.slowlamb.compont.core.Demo1.f1(Demo1.java:4)
	at com.slowlamb.compont.core.Demo1.f1(Demo1.java:4)
	...
*/
```

## 4-2 异常的分类

异常分为**异常和错误**2大类，异常又分为 **受检查的异常、运行时异常**。
![[throwable.png | 650]]



## 4-3 异常的处理

## 4-4 公共异常

## 4-5 抛出异常